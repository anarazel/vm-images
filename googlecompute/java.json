{
  "builders": [
    {
      "type": "googlecompute",
      "project_id": "{{user `gcp_project_id`}}",
      "zone": "us-central1-f",
      "source_image": "{{user `gce_base_image`}}",
      "image_name": "java-{{user `java_version`}}",
      "ssh_username": "ubuntu",
      "ssh_pty": "true"
    }
  ],
  "provisioners": [
    {
      "type": "shell",
      "inline": [
        "sudo DEBIAN_FRONTEND=noninteractive apt-get update -y -qq",
        "sudo DEBIAN_FRONTEND=noninteractive apt-get install -y -qq git vim build-essential"
      ]
    },
    {
      "type": "shell",
      "inline": [
        "sudo DEBIAN_FRONTEND=noninteractive apt-get install -y -qq openjdk-{{user `java_version`}}-jdk"
      ]
    }
  ]
}